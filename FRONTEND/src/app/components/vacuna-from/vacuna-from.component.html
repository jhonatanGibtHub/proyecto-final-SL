<div class="vacuna-form-container">
    
    <h2>
        {{ isEditMode ? 'Editar Regla de Vacuna' : 'Registrar Nueva Vacuna' }}
    </h2>

    <div *ngIf="error" class="alert alert-danger">
        Error: {{ error }}
    </div>
    <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
    </div>

    <form [formGroup]="vacunaForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
            <label for="nombre_comercial">Nombre Comercial</label>
            <input 
                id="nombre_comercial"
                type="text" 
                formControlName="nombre_comercial"
                class="form-control"
            >
            <div *ngIf="vacunaForm.get('nombre_comercial')?.invalid && vacunaForm.get('nombre_comercial')?.touched" class="text-danger">
                El nombre comercial es obligatorio (mínimo 3 caracteres).
            </div>
        </div>

        <div class="form-group">
            <label for="fabricante">Fabricante</label>
            <input 
                id="fabricante"
                type="text" 
                formControlName="fabricante"
                class="form-control"
            >
            <div *ngIf="vacunaForm.get('fabricante')?.invalid && vacunaForm.get('fabricante')?.touched" class="text-danger">
                El fabricante es obligatorio (mínimo 3 caracteres).
            </div>
        </div>

        <hr>
        
        <h3>Definición de Rangos Críticos (°C)</h3>

        <div class="form-group">
            <label for="temp_min_c">Temperatura Mínima Requerida (°C)</label>
            <input 
                id="temp_min_c"
                type="number" 
                formControlName="temp_min_c"
                class="form-control"
            >
            <div *ngIf="vacunaForm.get('temp_min_c')?.invalid && vacunaForm.get('temp_min_c')?.touched" class="text-danger">
                Debe especificar la temperatura mínima.
            </div>
        </div>

        <div class="form-group">
            <label for="temp_max_c">Temperatura Máxima Requerida (°C)</label>
            <input 
                id="temp_max_c"
                type="number" 
                formControlName="temp_max_c"
                class="form-control"
            >
            <div *ngIf="vacunaForm.get('temp_max_c')?.invalid && vacunaForm.get('temp_max_c')?.touched" class="text-danger">
                Debe especificar la temperatura máxima.
            </div>
        </div>
        
        <div class="form-actions">
            <button 
                type="submit" 
                class="btn btn-primary"
                [disabled]="vacunaForm.invalid" 
            >
                {{ isEditMode ? 'Actualizar Regla' : 'Guardar Vacuna' }}
            </button>
            
            <button 
                routerLink="/vacunas" 
                type="button" 
                class="btn btn-secondary"
            >
                Cancelar
            </button>
        </div>

    </form>

</div>